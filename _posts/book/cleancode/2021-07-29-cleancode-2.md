---
layout: post
title: "[책/Clean Code] 2. 의미 있는 이름"
author: 임가람
date: "2021-07-29 22:07:00"
categories: [책, Clean Code]
tags: [Clean Code]
---

## 들어가면서
이름을 잘 짓는 규칙을 소개한다.

<br>

## 의도를 분명히 밝혀라
변수(혹은 함수나 클래스)의 존재 이유는? 수행 기능은? 사용 방법은? 따로 주석이 필요하다면 의도를 분명히 드러내지 못했다는 말이다.<br>
단순히 이름만 고쳐도 함수가 하는 일을 이해하기 쉬워진다.<br>
아래의 예시를 보면, 각 개념에 이름을 주고, 간단한 클래스로 만들어 개선했다.
```java
// Before
public List<int[]> getThem() {
  List<int[]> list1 = new ArrayList<int[]>();
  for(int[] x : theList)
    if (x[0] == 4)
      list1.add(x);
  return list1;
}
// After 1
public List<int[]> getFlaggedCells() {
  List<int[]> flaggedCells = new ArrayList<int[]>();
  for(int[] cell : gameBoard)
    if (x[STATUS_VALUE] == FLAGGED)
      flaggedCells.add(cell);
  return flaggedCells;
}
// After 2
public List<Cell> getFlaggedCells() {
  List<Cell> flaggedCells = new ArrayList<Cell>();
  for(Cell cell : gameBoard)
    if (cell.isFlagged())
      flaggedCells.add(cell);
  return flaggedCells;
}
```

<br>

## 그릇된 정보를 피하라
그릇된 단서는 코드의 의미를 흐린다.<br>
나름대로 널리 쓰이는 의미가 있는 단어를 다른 의미로 사용해도 안 된다.<br>
서로 흡사한 이름을 사용하지 않도록 주의한다.<br>
유사한 개념은 유사한 표기법을 사용한다.<br>
소문자 L이나 대분자 O 등 비슷해보이는 문자를 유의해서 사용한다.

<br>

## 의미 있게 구분하라
동일한 범위 안에서는 다른 두 개념에 같은 의미를 사용할 수 없기 때문에 연속된 숫자를 덧붙이거나 불용어를 추가하는 방식은 적절하지 못하다.<br>
이름이 달라야 한다면 의미가 달라져야 한다.<br>
```java
// Before
public static void copyChars(char a1[], char a2[]) {
  for (int i=0; i<a1.length; i++) {
    a2[i] = a1[i];
  }
}
// After
public static void copyChars(char source[], char destination[]) {
  for (int i=0; i<source.length; i++) {
    destination[i] = source[i];
  }
}
```
getActiveAccount(), getActiveAccounts(), getActiveAccountInfo()의 형태로 함수를 만든다면 어떤 상황에 어떤 함수를 호출해야할 지 불명확해진다.

<br>

## 발음하기 쉬운 이름을 사용하라
```java
// Before
Class DtaRcrd102 {
   private Date genymdhms;
   private Date modymdhms;
   private final String pszqint = “102”;
   /* … */ 
}
// After
Class Customer {
   private Date generationTimestamp;
   private Date modificationTimestamp;
   private final String recordId = “102”;
   /* … */ 
}
```

<br>

## 검색하기 쉬운 이름을 사용하라
MAX_CLASSES_PER_STUDENT는 grep으로 찾기 쉽지만, 숫자 7은 그렇지 않다.<br>
마찬가지로 e라는 문자도 영어에서 가장 많이 쓰이는 문자이므로 변수 이름으로 적합하지 못하다.
```java
// Before
for (int j=0; j<34; j++) {
   s += (t[j]*4)/5;
}
// After
int realDaysPerIdealDay = 4;
const int WORK_DAYS_PER_WEEK = 5;
int sum = 0;
for (int j=0; j<NUMBER_OF_TASKS; j++) {
   int realTaskDays = taskEstimate[j] * realDaysPerIdeaDay;
   int realTaskWeeks = (realTaskDays / WORK_DAYS_PER_WEEK);
   sum += realTaskWeeks;
}
```

<br>

## 인코딩을 피하라
유형이나 범위 정보까지 인코딩에 넣으면 그만큼 이름을 해독하기 어려워진다.


### 헝가리식 표기법
과거에 C API는 컴파일러가 타입을 점검하지 않았으므로 프로그래머가 타입을 기억할 수 있도록 헝가리식 표기법을 중요하게 여겼지만<br>
IDE가 코드를 컴파일하지 않고도 타입 오류를 감지할 정도로 발전했기 때문에 헝가리식 표기법이나 기타 인코딩 방식이 오히려 방해가 된다.
```java
PhoneNumber phoneString;
// 헝가리식 표기법을 사용하면 변수, 함수, 클래스 이름이나 타입을 바꾸면 변수 이름도 같이 바꿔줘야 하기 때문에 어려워진다.
```

### 멤버 변수 접두어
```java
// Before
public class Part {
   private String m_dsc; // 설명 문자열
   void setName(String name) {
      m_dsc = name;
   }
}
// After
public class Part {
   String description;   
   void setDescription(String description) {
      this.description = description;
   }
}
```

### 인터페이스 클래스와 구현 클래스
예를 들어, 도형을 생성하는 ABSTRACT FACTORY를 구현한다고 가정했을 때<br>
이 팩토리는 인터페이스 클래스이고, 구현은 구체 클래스에서 한다. 그렇다면 두 클래스 이름을 어떻게 지어야 좋을까?<br>
IShapeactory 보다는 ShapeFactoryImp가 더 좋다.

<br>

## 자신의 기억력을 자랑하지 마라
독자가 코드를 읽으면서 변수 이름을 자신이 아는 이름으로 변환해야 한다면 그 변수 이름은 바람직하지 못하다.<br>
자신의 능력을 좋은 방향으로 사용해 남들이 이해하는 코드를 내놓을 줄 알아야 한다.

<br>

## 클래스 이름
클래스 이름과 객체 이름은 명사나 명사구가 적합하다.<br>
지향: Customer, WikiPage, Account, AddressParer<br>
지양: Manager, Processor, Data, Info, 동사

<br>

## 메서드 이름
메서드 이름은 동사나 동사구가 적합하다.<br>
접근자, 변경자, 조건자는 javabean 표준에 따라 값 앞에 get, set, is를 붙인다.<br>
생성자를 중복 정의 할 때는 정적 팩토리 메서드를 사용하며, 메서드는 인수를 설명하는 이름을 사용한다.
```java
Complex fulcrumPoint = new Complex(23.0); // Before
Complex fulcrumPoint = Complex.FromRealNumber(23.0); // After
```

<br>

## 기발한 이름은 피하라
재미난 이름보다 명료한 이름을 선택하라.<br>
WHACK()보다는 kill()이 좋다.<br>
의도를 분명하고 솔직하게 표현하라.

<br>

## 한 개념에 한 단어를 사용하라
똑같은 메서드를 클래스마다 fetch, retrieve, get으로 제각각 부르면 혼란스럽다.

<br>

## 말장난을 하지 마라
한 단어를 두 가지 목적으로 사용하지 마라.<br>
같은 맥락이 아닌데도 일관성을 고려하지 말아야 한다.<br>
예를 들어 add 메서드는 기존 값 두 개를 더하거나 이어서 새로운 값을 만든다고 가정했을 때, 집합에 값 하나를 추가하는 메서드는 일관성을 고려해 add라고 하지 말고 맥락에 맞게 insert나 append라는 이름이 적당하다.

<br>

## 해법 영역에서 가져온 이름을 사용하라
코드를 읽을 사람도 프로그래머다. 그러므로 전산 용어, 알고리즘 이름, 패턴 이름, 수학 용어 등을 사용해도 괜찮다.

<br>

## 문제 영역에서 가져온 이름을 사용하라
적절한 프로그래머 용어가 없다면 문제 영역의 용어를 사용하라.<br>
그러면 분야 전문가에게 의미를 물어 파악할 수 있다.

<br>

## 의미 있는 맥락을 추가하라
예를 들어 firstName, lastName, street, houseNumber, city, state, zipcode라는 변수가 있으면 주소라는 사실을 알아차릴 수 있지만, 어느 메서드가 state라는 변수 하나만 사용한다면 알아차리기 힘들다.<br>
그래서 addr이라는 접두어를 추가해 addrFirstName, addrLastName, addrState라고 쓰면 맥락이 더 분명해진다.<br>
더욱이 Address라는 클래스를 생성하면 더 좋다.

<br>

## 불필요한 맥락을 없애라
고급 휘발유 충전소(Gas Station Deluxe)라는 애플리케이션을 짠다고 했을 때, 모든 클래스 이름을 GSD로 시작하는 것은 바람직하지 않다.<br>
IDE에서 G로 검색했을 때 모든 클래스를 반환할 것이다.
<br>

## 마치면서
좋은 이름을 선택하려면 설명 능력이 뛰어나야 하고 문화적인 배경이 같아야 한다.<br>
여느 코드 개선 노력과 마찬가지고 이름 역시 나름대로 바꿨다가는 누군가 질책할지도 모른다. 그렇다고 코드를 개선하려는 노력을 중단해서는 안 된다.

<br>

\# 참고<br>
[로버트 C. 마틴 / Clean Code](https://book.naver.com/bookdb/book_detail.nhn?bid=7390287){:target="_blank"}<br>